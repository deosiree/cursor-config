写一个原型设计：新需求，拷贝回写按钮src\components\Button\writeBackButton.vue，在回写前增加一环回写校验的逻辑

### 展示列设计（默认列清单 + 父/子展示规则）

#### 展示列按钮
- **位置**：弹窗2顶部工具区右侧
- **交互**：popover + checkboxGroup（参考 `filterExcel.vue`）
- **行为**：勾选即时生效；关闭弹窗2时可选择是否缓存到 localStorage（可选，不强制）

#### 默认展示列（建议）
- **父行默认展示**（聚合信息，便于定位组）  
  - `entry`、`tag`、`comment`（以及你们业务上确认能稳定存在的父级字段）
- **子行默认展示**（重复明细核心字段）  
  - `entry`（或子字段名如 `entr` 以实际返回为准）、`language/translateType`、`translation`、`entrySource`、`diFileName`（按你们重复判断逻辑相关字段优先）
- **可选列**：子对象“所有属性”都允许作为展示列候选（数量多时可分组展示，但原型阶段先平铺即可）

#### 父/子字段缺失处理
- 父行只读父字段；子行只读子字段；缺失显示 `-`。

---

### 表格行标识（rowKey）与父子识别（无后端唯一ID时的原型策略）

#### 识别父行/子行
- **父行**：存在 `children` 数组（即 `Array.isArray(record.children)`）
- **子行**：在渲染时来自 `record.children` 的项

#### rowKey 生成（前端临时 key）
- **父行 key**：`group-${parentIndex}`
- **子行 key**：`group-${parentIndex}-child-${childIndex}`
- **真实回写/删除 key**：仍使用 `selectedRowKeys` 中的真实 key（子行数据需包含该 key 字段，或维护“临时key -> 真实key”的映射）

> 原型约束：校验结果数据里每条子数据必须能找到其对应的“真实 key”（用于删除同步 selectedRowKeys、以及回写）。

---

### 勾选与操作细则（保证“不删父行/不删最后一条/剩一条视为不重复”）

#### 勾选框
- **父行**：禁用（不可选）
- **子行**：可选
- **批量删除**：仅对已选子行生效

#### 单条删除（垃圾箱）
- 仅子行显示垃圾箱
- 删除前校验：
  - 若该父组当前 `children.length === 1`：不允许删除（提示“该组必须至少保留一条”）
- 删除后处理：
  - 调用 mock 删除成功后：
    - 从 `selectedRowKeys` 移除被删子行对应的真实 key
    - 从该父组 `children` 移除该子行
    - 若删除后该父组 `children.length === 1`：该组视为不重复，**父行及其 children 从弹窗2 dataSource 移除**

#### 批量删除（底部“删除”按钮）
- 先按父组聚合校验：任一父组若“要删数量 = 当前 children.length”，则阻止并提示对应组（至少保留 1 条）
- 通过校验后逐条调用 mock（或一次批量 mock），成功即按“单条删除”的同规则同步 UI 与 `selectedRowKeys`

---

### 弹窗2底部按钮行为（最终口径）
- **删除**：删勾选子行（规则同上）
- **重校验**：保持弹窗2打开，原地 loading，用“最新 selectedRowKeys”重新校验并覆盖 dataSource
- **回写**：保持弹窗2打开，原地 loading，用“最新 selectedRowKeys”调用 mock 回写；响应体 dataSource 覆盖弹窗2展示

---

### 原型交付物（建议你写到需求文档里的最小字段约定）
- 子数据必须包含：**真实 key 字段**（用于与 `selectedRowKeys` 对齐），例如 `id`/`entryId`/`rowKey`（命名以你们后端为准）
- 父数据包含：`children: []` + 若干聚合字段（entry/tag/comment…）

如需我把这份原型设计直接整理进你当前打开的 `原型设计需求 预翻译.md`（或新建一份 `docs/plans/2026-02-02-writeback-validate-design.md`），我也可以按你们模板排版成可评审版本。